console.log("Hello from reviews/create.js.erb")

function refreshForm(innerHTML) {
  const newMessageForm = document.getElementById('new_message');
  newMessageForm.innerHTML = innerHTML;
}

function addMessage(messageHTML) {
  const messages= document.getElementById('messages');
  messages.insertAdjacentHTML('beforeend', messageHTML);
}

<% if @message.errors.any? %>
  console.log(@message)
  refreshForm('<%= j render "shared/messages/form", group: @group, message: @message %>');
<% else %>
  addMessage('<%= j render "groups/show", group: @group, user: @user %>');
  refreshForm('<%= j render "shared/messages/form", group: @group, message: Message.new %>');
<% end %>
